# Docker Compose Configuration

# SSR Mode: traditional, worker, hybrid, fetch-proxy
SSR_MODE=traditional

# Number of replicas (Node.js app instances)
# Recommended: TOTAL_CPU_CORES / 4
# Example for 16-core machine: 4 replicas
# Example for 8-core machine:  2 replicas
REPLICAS=4

# CPU cores per replica
# Formula: TOTAL_CPU_CORES / REPLICAS
# Example: 16 cores / 4 replicas = 4.0 cores each
CPU_PER_REPLICA=4.0

# CPU reservation (minimum guaranteed)
# Usually half of the limit
CPU_RESERVATION=2.0

# Memory limits per replica
MEMORY_LIMIT=512M
MEMORY_RESERVATION=256M

# ===================================
# Quick Configuration Examples:
# ===================================

# 16-core machine (Strategy 1: Equal division)
# REPLICAS=4
# CPU_PER_REPLICA=4.0
# CPU_RESERVATION=2.0

# 8-core machine
# REPLICAS=2
# CPU_PER_REPLICA=4.0
# CPU_RESERVATION=2.0

# 4-core machine
# REPLICAS=1
# CPU_PER_REPLICA=4.0
# CPU_RESERVATION=2.0